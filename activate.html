<!DOCTYPE html>
<html>
<head>
  <title>Activate Card</title>
  <script src="card-data.js"></script>
</head>
<body>
  <h2>Activate Your Card</h2>
  <form id="activationForm">
    <input type="text" id="cardId" placeholder="Card ID" required><br>
    <input type="text" id="pin" placeholder="Activation PIN" required><br>
    <button type="submit">Activate</button>
  </form>
  <p id="result"></p>
  <a href="index.html">Back</a>

  <script>
    document.getElementById("activationForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const id = document.getElementById("cardId").value.trim();
      const pin = document.getElementById("pin").value.trim();

      const result = validateCard(id, pin);
      const resElem = document.getElementById("result");

      if (result.success) {
        resElem.innerHTML = "✅ Card activated! Sending confirmation...";
        // Simulate sending email
        window.location.href = `mailto:youremail@example.com?subject=Card Activated&body=Card ${id} was activated successfully.`;
      } else {
        resElem.innerHTML = "❌ " + result.message;
      }
    });
  </script>
</body>
</html>
